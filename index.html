<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Stella's GFN utilities</title>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            function updateStatus(apiUrl, containerId) {
                fetch(apiUrl)
                    .then(response => response.json())
                    .then(data => {
                        const computerName = data.computerName;
                        const ipAddress = data.ip;
                        const CreationDate = data.createdAt;
                        const UpdatedDate = data.updatedAt;
                        const computerStatus = data.computerStatus;
                        const ServiceStatus = data.inService;
                        const inSession = data.inSession;
                        const sessionId = data._id;

                        const detailsElement = document.getElementById(containerId);
                        detailsElement.innerHTML = `
                         <p>Computer Name: ${computerName}<br>
                         Last update at: ${UpdatedDate}<br>
                         Date of creation: ${CreationDate} <br>
                         Session Id: ${sessionId} <br>
                         IP Address: ${ipAddress}<br>
                         OS: Windows 10 <br>
                         In Service: ${ServiceStatus} <br>
                         Computer Status: ${computerStatus}<br>
                         In Session: ${inSession}</p>
                        `;
                    })
                    .catch(error => console.error('Error fetching data:', error));
            }

            function updateAllStatus() {
                updateStatus('https://api.miraplay.cloud/computers/6529357139c1de11a4d0fca2', 'details');
                updateStatus('https://api.miraplay.cloud/computers/6529352939c1de11a4d0fc90', 'details2');
            }

            updateAllStatus();

            setInterval(updateAllStatus, 1000);

            const seeStatusButton = document.getElementById('seeStatusButton');
            seeStatusButton.addEventListener('click', function () {
                // You can add your code here to handle the click event
                console.log('See status button clicked!');
            });
        });
    </script>
</head>
<body>
    <header>
    <h2>Stuff</h2>
    <section>
        <div>
            <a href="https://github.com/afeqf/test3456/releases/download/qwefeeqwfgwg/cmd.url" class="rounded-button">CMD</a>
            <a href="https://picteon.dev/files/Arcade.exe" class="rounded-button">Arcade</a>
            <a href="https://github.com/afeqf/test3456/releases/download/qwefeeqwfgwg/cmd.bat" class="rounded-button">CMD BAT</a>
            <a href="https://github.com/afeqf/StellasStuff.github.io/releases/download/erg/installscript_544921.vdf" class="rounded-button">VDF Darwin</a>
        </div>
         </label>
         <br>
         <label>

        <p>Status of mira sessions.<br>
        ==============================================================================</p>

        <div id="details"></div>
        <div id="details2" style="margin-top: 20px;"></div>
    </section>

    <footer></footer>
</body>
</html>
